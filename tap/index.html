<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Black Swan | Daily Goal</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;800&family=Playfair+Display:ital@1&display=swap" rel="stylesheet" />
  <style>
    * {
      margin: 0; padding: 0; box-sizing: border-box;
    }
    body {
      font-family: 'Montserrat', sans-serif;
      background: url('https://images.unsplash.com/photo-1600488995262-02e5ec8b3c6b') no-repeat center center fixed;
      background-size: cover;
      color: #fff;
      min-height: 120vh; /* tall enough to scroll */
      display: flex;
      flex-direction: column;
      justify-content: flex-start; /* start at top */
      align-items: center;
      padding: 40px 20px 80px; /* more padding for scroll */
      text-align: center;
      position: relative;
      overflow-y: auto;
    }
    body::before {
      content: "";
      position: fixed; /* fixed so stays behind on scroll */
      top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.6);
      z-index: 0;
    }
    .content {
      position: relative;
      z-index: 1;
      max-width: 600px;
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .quote {
      font-family: 'Playfair Display', serif;
      font-style: italic;
      font-size: 2.2rem;
      margin-bottom: 50px;
      color: #fff;
      line-height: 1.5;
      text-shadow: 0 3px 12px rgba(0, 0, 0, 0.6);
      max-width: 90%;
      user-select: none;
      min-height: 120px; /* consistent height so layout stable */
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0 10px;
    }
    h1 {
      font-size: 3rem;
      margin-bottom: 20px;
      color: #ffae00;
    }
    .streak {
      font-size: 1.2rem;
      margin-bottom: 20px;
    }
    input[type="text"] {
      width: 100%;
      padding: 14px;
      font-size: 1rem;
      border: none;
      border-radius: 10px;
      margin-bottom: 15px;
      text-align: center;
    }
    button {
      width: 100%;
      padding: 14px;
      font-size: 1rem;
      background-color: #8e44ad;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      margin-top: 10px;
      transition: background 0.3s ease;
    }
    button:hover {
      background-color: #732d91;
    }
    button.done {
      background-color: #00c853;
    }
    .goal-display {
      font-size: 1.4rem;
      margin-top: 20px;
      color: #f0f0f0;
      min-height: 48px; /* consistent spacing */
    }
  </style>
</head>
<body>
  <div class="content">
    <div class="quote" id="quote">Loading quote...</div>
    <h1>Daily Goal</h1>
    <div class="streak" id="streakDisplay">üî• Streak: 0 days</div>
    <input type="text" id="goalInput" placeholder="Set your daily goal..." />
    <button onclick="saveGoal()">Set Goal</button>
    <div class="goal-display" id="goalDisplay">No goal set for today.</div>
    <button class="done" onclick="markDone()">Mark as Done ‚úÖ</button>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const quotes = [
        "‚ÄúYou miss 100% of the shots you don‚Äôt take.‚Äù ‚Äì Wayne Gretzky",
        "‚ÄúChampions keep playing until they get it right.‚Äù ‚Äì Billie Jean King",
        "‚ÄúHard work beats talent when talent doesn‚Äôt work hard.‚Äù ‚Äì Tim Notke",
        "‚ÄúIt‚Äôs not whether you get knocked down; it‚Äôs whether you get up.‚Äù ‚Äì Vince Lombardi",
        "‚ÄúSuccess isn‚Äôt owned. It‚Äôs leased. And rent is due every day.‚Äù ‚Äì J.J. Watt"
      ];

      function getDayOfYear(date) {
        const start = new Date(date.getFullYear(), 0, 0);
        const diff = date - start + ((start.getTimezoneOffset() - date.getTimezoneOffset()) * 60 * 1000);
        return Math.floor(diff / (1000 * 60 * 60 * 24));
      }

      function getQuoteOfTheDay() {
        const dayOfYear = getDayOfYear(new Date());
        return quotes[dayOfYear % quotes.length];
      }

      const goalInput = document.getElementById('goalInput');
      const goalDisplay = document.getElementById('goalDisplay');
      const streakDisplay = document.getElementById('streakDisplay');
      const quoteDiv = document.getElementById('quote');
      const today = new Date().toISOString().slice(0, 10);

      function saveGoal() {
        const goal = goalInput.value.trim();
        if (goal) {
          localStorage.setItem('dailyGoal', goal);
          localStorage.setItem('goalDate', today);
          localStorage.setItem('goalDone', 'false');
          displayGoal();
        }
      }

      function markDone() {
        if (localStorage.getItem('goalDate') === today && localStorage.getItem('goalDone') !== 'true') {
          localStorage.setItem('goalDone', 'true');
          let streak = parseInt(localStorage.getItem('streak') || '0') + 1;
          localStorage.setItem('streak', streak);
          streakDisplay.textContent = `üî• Streak: ${streak} day${streak === 1 ? '' : 's'}`;
          // alert('Goal marked as done! Great work.');
        }
      }

      function displayGoal() {
        const savedGoal = localStorage.getItem('dailyGoal');
        const savedDate = localStorage.getItem('goalDate');
        const streak = parseInt(localStorage.getItem('streak') || '0');
        if (savedDate === today && savedGoal) {
          goalDisplay.textContent = `"${savedGoal}"`;
          goalInput.value = savedGoal;
        } else {
          goalDisplay.textContent = "No goal set for today.";
          goalInput.value = '';
        }
        streakDisplay.textContent = `üî• Streak: ${streak} day${streak === 1 ? '' : 's'}`;
      }

      quoteDiv.textContent = getQuoteOfTheDay();
      displayGoal();

      window.saveGoal = saveGoal;
      window.markDone = markDone;
    });
  </script>
</body>
</html>
