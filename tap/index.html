<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Black Swan | Daily Goal</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;800&family=Playfair+Display:ital@1&display=swap" rel="stylesheet" />
<style>
  html, body {
    margin: 0; padding: 0; height: 100%;
    font-family: 'Montserrat', sans-serif;
    background-color: black;
    color: white;
    overflow-y: auto;
  }

  body {
    display: flex;
    flex-direction: column;
  }

  .quote-section {
    position: relative;
    height: 40vh;
    min-height: 250px;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 0 20px;
    overflow: hidden;
  }

  .quote-section::before {
    content: "";
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background: url('https://images.unsplash.com/photo-1600488995262-02e5ec8b3c6b?auto=format&fit=crop&w=1200&q=80') center center / cover no-repeat;
    opacity: 0.12; /* super dark */
    z-index: 0;
    transition: opacity 0.5s ease;
  }

  /* gradient fade from image bottom to black */
  .quote-section::after {
    content: "";
    position: absolute;
    left: 0; right: 0; bottom: 0; height: 100px;
    background: linear-gradient(to bottom, rgba(0,0,0,0) 0%, black 100%);
    z-index: 1;
  }

  .quote-text {
    position: relative;
    z-index: 2;
    font-family: 'Playfair Display', serif;
    font-style: italic;
    font-size: 2.5rem;
    max-width: 800px;
    line-height: 1.4;
    user-select: none;
    color: white;
    text-shadow: 0 4px 15px rgba(0, 0, 0, 0.7);
  }

  .content {
    background: black;
    padding: 40px 20px;
    max-width: 600px;
    margin: 0 auto 40px;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  h1 {
    color: #ffae00;
    font-size: 3rem;
    margin-bottom: 20px;
  }

  .streak {
    font-size: 1.2rem;
    margin-bottom: 20px;
  }

  input[type="text"] {
    width: 100%;
    padding: 14px;
    font-size: 1rem;
    border: none;
    border-radius: 10px;
    margin-bottom: 15px;
    text-align: center;
  }

  button {
    width: 100%;
    padding: 14px;
    font-size: 1rem;
    background-color: #8e44ad;
    color: white;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    margin-top: 10px;
    transition: background 0.3s ease;
  }
  button:hover {
    background-color: #732d91;
  }
  button.done {
    background-color: #00c853;
  }

  .goal-display {
    font-size: 1.4rem;
    margin-top: 20px;
    color: #f0f0f0;
    min-height: 48px;
    text-align: center;
  }
</style>
</head>
<body>

  <section class="quote-section">
    <div class="quote-text" id="quote">Loading quote...</div>
  </section>

  <main class="content">
    <h1>Daily Goal</h1>
    <div class="streak" id="streakDisplay">üî• Streak: 0 days</div>
    <input type="text" id="goalInput" placeholder="Set your daily goal..." autocomplete="off" />
    <button onclick="saveGoal()">Set Goal</button>
    <div class="goal-display" id="goalDisplay">No goal set for today.</div>
    <button class="done" onclick="markDone()">Mark as Done ‚úÖ</button>
  </main>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const quotes = [
        "‚ÄúYou miss 100% of the shots you don‚Äôt take.‚Äù ‚Äì Wayne Gretzky",
        "‚ÄúChampions keep playing until they get it right.‚Äù ‚Äì Billie Jean King",
        "‚ÄúHard work beats talent when talent doesn‚Äôt work hard.‚Äù ‚Äì Tim Notke",
        "‚ÄúIt‚Äôs not whether you get knocked down; it‚Äôs whether you get up.‚Äù ‚Äì Vince Lombardi",
        "‚ÄúSuccess isn‚Äôt owned. It‚Äôs leased. And rent is due every day.‚Äù ‚Äì J.J. Watt"
      ];

      function getDayOfYear(date) {
        const start = new Date(date.getFullYear(), 0, 0);
        const diff = date - start + ((start.getTimezoneOffset() - date.getTimezoneOffset()) * 60 * 1000);
        return Math.floor(diff / (1000 * 60 * 60 * 24));
      }

      function getQuoteOfTheDay() {
        const dayOfYear = getDayOfYear(new Date());
        return quotes[dayOfYear % quotes.length];
      }

      const goalInput = document.getElementById('goalInput');
      const goalDisplay = document.getElementById('goalDisplay');
      const streakDisplay = document.getElementById('streakDisplay');
      const quoteDiv = document.getElementById('quote');
      const today = new Date().toISOString().slice(0, 10);

      function saveGoal() {
        const goal = goalInput.value.trim();
        if (goal) {
          localStorage.setItem('dailyGoal', goal);
          localStorage.setItem('goalDate', today);
          localStorage.setItem('goalDone', 'false');
          displayGoal();
        }
      }

      function markDone() {
        if (localStorage.getItem('goalDate') === today && localStorage.getItem('goalDone') !== 'true') {
          localStorage.setItem('goalDone', 'true');
          let streak = parseInt(localStorage.getItem('streak') || '0') + 1;
          localStorage.setItem('streak', streak);
          streakDisplay.textContent = `üî• Streak: ${streak} day${streak === 1 ? '' : 's'}`;
        }
      }

      function displayGoal() {
        const savedGoal = localStorage.getItem('dailyGoal');
        const savedDate = localStorage.getItem('goalDate');
        const streak = parseInt(localStorage.getItem('streak') || '0');
        if (savedDate === today && savedGoal) {
          goalDisplay.textContent = `"${savedGoal}"`;
          goalInput.value = savedGoal;
        } else {
          goalDisplay.textContent = "No goal set for today.";
          goalInput.value = '';
        }
        streakDisplay.textContent = `üî• Streak: ${streak} day${streak === 1 ? '' : 's'}`;
      }

      quoteDiv.textContent = getQuoteOfTheDay();
      displayGoal();

      window.saveGoal = saveGoal;
      window.markDone = markDone;
    });
  </script>

</body>
</html>
