<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Black Swan | Daily Goal</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;800&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      background: url('https://images.unsplash.com/photo-1600488995262-02e5ec8b3c6b') no-repeat center center fixed;
      background-size: cover;
      position: relative;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: #fff;
    }
    body::before {
      content: "";
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-color: rgba(0, 0, 0, 0.65);
      z-index: 0;
    }
    .container {
      position: relative;
      z-index: 1;
      max-width: 500px;
      padding: 2rem;
      background-color: rgba(18, 18, 18, 0.85);
      border-radius: 15px;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.5);
      text-align: center;
    }
    h1 {
      font-size: 2rem;
      margin-bottom: 10px;
    }
    .streak {
      font-size: 1rem;
      margin-bottom: 20px;
      color: #ffae00;
    }
    input[type="text"] {
      width: 100%;
      padding: 12px;
      font-size: 1rem;
      border: none;
      border-radius: 8px;
      margin-bottom: 10px;
    }
    button {
      width: 100%;
      padding: 12px;
      font-size: 1rem;
      background-color: #8e44ad;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 10px;
    }
    button.done {
      background-color: #00c853;
    }
    .goal-display {
      margin-top: 20px;
      font-size: 1.2rem;
    }
    .quote {
      font-size: 0.9rem;
      margin-top: 10px;
      font-style: italic;
      color: #bbb;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Today's Goal</h1>
    <div class="streak" id="streakDisplay">üî• Streak: 0 days</div>
    <input type="text" id="goalInput" placeholder="Set your daily goal..." />
    <button onclick="saveGoal()">Set Goal</button>
    <div class="goal-display" id="goalDisplay"></div>
    <button class="done" onclick="markDone()">Mark as Done ‚úÖ</button>
    <div class="quote" id="quote">Loading daily quote...</div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const quotes = [
        "‚ÄúYou miss 100% of the shots you don‚Äôt take.‚Äù ‚Äì Wayne Gretzky",
        "‚ÄúChampions keep playing until they get it right.‚Äù ‚Äì Billie Jean King",
        "‚ÄúHard work beats talent when talent doesn‚Äôt work hard.‚Äù ‚Äì Tim Notke",
        "‚ÄúIt‚Äôs not whether you get knocked down; it‚Äôs whether you get up.‚Äù ‚Äì Vince Lombardi",
        "‚ÄúSuccess isn‚Äôt owned. It‚Äôs leased. And rent is due every day.‚Äù ‚Äì J.J. Watt",
        "‚ÄúThe difference between the impossible and the possible lies in a person‚Äôs determination.‚Äù ‚Äì Tommy Lasorda",
        "‚ÄúDo something today that your future self will thank you for.‚Äù ‚Äì Sean Patrick Flanery"
      ];

      function getQuoteOfTheDay() {
        const now = new Date();
        const start = new Date(now.getFullYear(), 0, 0);
        const diff = now - start;
        const oneDay = 1000 * 60 * 60 * 24;
        const dayOfYear = Math.floor(diff / oneDay);
        const index = dayOfYear % quotes.length;
        console.log("Day of year:", dayOfYear, "Quote index:", index);
        return quotes[index];
      }

      const goalInput = document.getElementById('goalInput');
      const goalDisplay = document.getElementById('goalDisplay');
      const streakDisplay = document.getElementById('streakDisplay');
      const quoteDiv = document.getElementById('quote');
      const today = new Date().toISOString().slice(0, 10);

      function saveGoal() {
        const goal = goalInput.value.trim();
        if (goal) {
          localStorage.setItem('dailyGoal', goal);
          localStorage.setItem('goalDate', today);
          localStorage.setItem('goalDone', 'false');
          displayGoal();
        }
      }

      function markDone() {
        if (localStorage.getItem('goalDate') === today) {
          if (localStorage.getItem('goalDone') !== 'true') {
            localStorage.setItem('goalDone', 'true');
            incrementStreak();
            alert('Goal marked as done! Great work.');
          }
        }
      }

      function incrementStreak() {
        let streak = parseInt(localStorage.getItem('streak') || '0');
        streak++;
        localStorage.setItem('streak', streak);
        streakDisplay.textContent = `üî• Streak: ${streak} days`;
      }

      function displayGoal() {
        const savedGoal = localStorage.getItem('dailyGoal');
        const savedDate = localStorage.getItem('goalDate');
        const streak = localStorage.getItem('streak') || 0;
        if (savedDate === today && savedGoal) {
          goalDisplay.textContent = `"${savedGoal}"`;
        } else {
          goalDisplay.textContent = "No goal set for today.";
        }
        streakDisplay.textContent = `üî• Streak: ${streak} days`;
      }

      // ‚úÖ Finally set the quote of the day:
      quoteDiv.textContent = getQuoteOfTheDay();

      // ‚úÖ Display saved goal
      displayGoal();
    });
  </script>
</body>
</html>
